<div ng-controller="ViewController" class="container">

    <div class="panel panel-info">
      <div class="panel-heading">
        <h5>Testing rethinkdb database</h5>
      </div>
      <div class="panel-body">


      <div class="container">
        <form role="form" ng-submit="search()">
          <div class="row">
            <div class="col-xs-10 col-md-10">
              <div class="input-group">
                <input type="text" placeholder="Fuzzy search (try it!)"
                  class="form-control"
                  ng-value="{{fuzzy}}" ng-model="fuzzy" ng-change="search(fuzzy)">
                <span class="input-group-btn">
                  <input type="submit" class="btn btn-info" value="Search">
                </span>
              </div>
            </div>
          </div>
        </form>
        <br>
      </div>

      <div class="container">

          <!-- LOADING -->
          <div id='spinner' ng-hide='data.length >= 0'>
            Loading <i class="fa fa-refresh fa-spin"></i>
          </div>

          <!-- NO DATA -->
          <div id='nodata' ng-show='data.length == 0'> No data found. </div>

          <!-- DATA stats and paging -->
          <div ng-show='data.length > 0'>
            <div class="row">
              <div class="col-md-6 col-xs-6">
               Current page:
               <input type="text" ng-value="{{perpage}}" size=3
                ng-model="currentpage" ng-change="reloadTable(perpage,currentpage)">
               Elements per page:
               <input type="text" ng-value="{{currentpage}}" size=3
                ng-model="perpage" ng-change="reloadTable(perpage,currentpage)">
              </div>
              <div class="col-md-6 col-xs-6">
                <span  class="label label-default">
                  Viewing
                  from {{from}}
                  to {{from + data.length - 1}}
                  of {{datacount}} elements
                </span>
              </div>
            </div>
          </div>
      </div>

      <!-- data table -->
      <div ng-show='data.length > 0'>

        <table class="table table-striped">
          <thead>
            <tr>
              <th ng-repeat="head in headers">{{head}}</th>
            </tr>
          </thead>

          <tbody>
            <tr ng-repeat="row in data track by row.id">
              <td>{{row.id}}</td>
              <td>{{row.value}}</td>
              <td>{{row.key}}</td>
            </tr>
          </tbody>
        </table>

      </div>
</div>

