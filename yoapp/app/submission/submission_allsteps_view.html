
<div ng-hide='stepsNum > 0'>
  No stepsData configured yet. <br>
  Please <a href>contact administrator</a>.
</div>

<div ng-show='stepsNum > 0'>

  <!-- Repeat on a list of steps i need:
    a. Step before if exists
    b. CURRENT step
    c. Step after, if exists
    -->
  <submission-step ng-repeat='i in [current-1,current,current+1]'
    ng-if='i > 0 && i < steps.length'
    user='currentuser' identifier='myrecordid'
    step='i' name='steps[i]' current='current'>
  </submission-step>

  <!-- Upload - This will be last step, so take double the necessary space -->
  <div class="col-md-8"
    ng-show="current == steps.length-1 || current == steps.length" >
     <article ng-class="{'blur': current < steps.length}" >
      <div class="well">
        <h4 ng-if='current == steps.length-1'>Successivo:</h4>

        <!-- uploader directive -->
        <file-uploader></file-uploader>

        <!-- button to tell user to go to next step... -->
        <div ng-if='current == steps.length && docs.length > 0'>
          <a href ui-sref='logged.submission.step({myId:myrecordid, stepId:current+1})'
          ><button type="button" class="btn btn-warning"
          >Elabora trascrizioni &gt;&gt;</button></a>
        </div>
      </div>
     </article>
  </div>

  <!-- FILE PROCESS -->
  <div class="col-md-9" ng-show="current == steps.length+1" >
      <div class="panel panel-default">
        <div class="panel-heading">
            <h3> Lista di immagini associate </h3>
        </div>
        <div class="panel-body">

        <table class="table">
            <thead>
             <tr>
                <th>File</th>
                <th>Code</th>
                <th>Zoom</th>
                <th>Transcription</th>
             </tr>
            </thead>
            <tbody>
             <tr ng-repeat='doc in docs'>
                <td>{{doc.filename}}</td>
                <td>{{doc.code}}</td>
                <td> link </td>
                <td> link </td>
             </tr>
            </tbody>
        </table>

        </div>
      </div>
  </div>

</div>
